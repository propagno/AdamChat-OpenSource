{"version":3,"file":"static/js/107.9604b6b7.chunk.js","mappings":"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","sources":["pages/EmergencyReset.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\n// Função para limpar todos os cookies\r\nconst clearAllCookies = () => {\r\n  const cookies = document.cookie.split(';');\r\n  \r\n  for (let i = 0; i < cookies.length; i++) {\r\n    const cookie = cookies[i];\r\n    const eqPos = cookie.indexOf('=');\r\n    const name = eqPos > -1 ? cookie.substr(0, eqPos).trim() : cookie.trim();\r\n    \r\n    // Remover o cookie com diferentes paths e domains\r\n    document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/`;\r\n    document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/auth`;\r\n    document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/realms`;\r\n    \r\n    // Tentar com o domínio atual\r\n    const domain = window.location.hostname;\r\n    document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; domain=${domain}`;\r\n    \r\n    // Tentar com 127.0.0.1 especificamente\r\n    document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; domain=127.0.0.1`;\r\n  }\r\n  \r\n  return cookies.length;\r\n};\r\n\r\n// Função para limpar todo o localStorage e sessionStorage\r\nconst clearAllStorage = () => {\r\n  try {\r\n    // Armazenar número de itens removidos\r\n    const localStorageCount = localStorage.length;\r\n    const sessionStorageCount = sessionStorage.length;\r\n    \r\n    // Limpar tudo\r\n    localStorage.clear();\r\n    sessionStorage.clear();\r\n    \r\n    return { localStorageCount, sessionStorageCount };\r\n  } catch (e) {\r\n    console.error('Erro ao limpar storage:', e);\r\n    return { localStorageCount: 0, sessionStorageCount: 0, error: e.message };\r\n  }\r\n};\r\n\r\n// Página principal - esta página não usa o contexto ReactKeycloak\r\nconst EmergencyReset = () => {\r\n  const [results, setResults] = useState(null);\r\n  const [resetComplete, setResetComplete] = useState(false);\r\n  const [countdown, setCountdown] = useState(null);\r\n\r\n  // Realizar reset de emergência\r\n  const performEmergencyReset = () => {\r\n    try {\r\n      // Limpar cookies\r\n      const cookiesCleared = clearAllCookies();\r\n      \r\n      // Limpar storages\r\n      const storageCleared = clearAllStorage();\r\n      \r\n      // Armazenar resultados para exibição\r\n      setResults({\r\n        cookiesCleared,\r\n        localStorageCleared: storageCleared.localStorageCount,\r\n        sessionStorageCleared: storageCleared.sessionStorageCount,\r\n        error: storageCleared.error,\r\n        timestamp: new Date().toISOString()\r\n      });\r\n      \r\n      // Marcar como concluído\r\n      setResetComplete(true);\r\n      \r\n      // Configurar cronômetro para redirecionamento\r\n      setCountdown(5);\r\n      \r\n      // Registrar no sessionStorage que um reset de emergência foi realizado\r\n      try {\r\n        sessionStorage.setItem('emergency-reset-performed', 'true');\r\n        sessionStorage.setItem('emergency-reset-time', new Date().toISOString());\r\n      } catch (e) {\r\n        console.error('Erro ao definir flag de reset de emergência:', e);\r\n      }\r\n      \r\n      return true;\r\n    } catch (e) {\r\n      console.error('Erro ao executar reset de emergência:', e);\r\n      setResults({\r\n        error: e.message,\r\n        timestamp: new Date().toISOString()\r\n      });\r\n      return false;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Iniciar o cronômetro se o reset estiver completo\r\n    let timer;\r\n    if (resetComplete && countdown !== null) {\r\n      if (countdown > 0) {\r\n        timer = setTimeout(() => {\r\n          setCountdown(countdown - 1);\r\n        }, 1000);\r\n      } else {\r\n        // Redirecionar para a página inicial após o término do cronômetro\r\n        window.location.replace(window.location.origin);\r\n      }\r\n    }\r\n    \r\n    return () => {\r\n      if (timer) {\r\n        clearTimeout(timer);\r\n      }\r\n    };\r\n  }, [resetComplete, countdown]);\r\n\r\n  // Impedir que esta página seja recarregada ou deixada\r\n  useEffect(() => {\r\n    const handleBeforeUnload = (e) => {\r\n      if (!resetComplete) {\r\n        // Cancel the event\r\n        e.preventDefault();\r\n        // Chrome requires returnValue to be set\r\n        e.returnValue = '';\r\n      }\r\n    };\r\n    \r\n    window.addEventListener('beforeunload', handleBeforeUnload);\r\n    \r\n    return () => {\r\n      window.removeEventListener('beforeunload', handleBeforeUnload);\r\n    };\r\n  }, [resetComplete]);\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <div style={styles.card}>\r\n        <h1 style={styles.title}>Reset de Emergência</h1>\r\n        <p style={styles.warning}>\r\n          Esta página foi projetada para quebrar completamente qualquer ciclo de autenticação.\r\n          Ela limpa todos os cookies e dados de armazenamento do navegador relacionados à autenticação.\r\n        </p>\r\n        \r\n        {!resetComplete ? (\r\n          <div style={styles.actionSection}>\r\n            <p style={styles.description}>\r\n              Se você está preso em um loop de autenticação e não consegue acessar sua conta,\r\n              este botão irá limpar todos os dados de autenticação e permitir que você comece novamente.\r\n            </p>\r\n            \r\n            <button \r\n              style={styles.resetButton} \r\n              onClick={performEmergencyReset}\r\n            >\r\n              Realizar Reset de Emergência\r\n            </button>\r\n            \r\n            <div style={styles.note}>\r\n              <strong>Nota:</strong> Isto removerá todos os cookies e dados de armazenamento relacionados à autenticação.\r\n              Você precisará fazer login novamente após este procedimento.\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div style={styles.completedSection}>\r\n            <div style={styles.successMessage}>\r\n              <div style={styles.checkmark}>✓</div>\r\n              <h2>Reset Completo!</h2>\r\n            </div>\r\n            \r\n            <div style={styles.results}>\r\n              <p><strong>Cookies removidos:</strong> {results.cookiesCleared}</p>\r\n              <p><strong>Itens de localStorage removidos:</strong> {results.localStorageCleared}</p>\r\n              <p><strong>Itens de sessionStorage removidos:</strong> {results.sessionStorageCleared}</p>\r\n              {results.error && <p style={styles.error}><strong>Erro:</strong> {results.error}</p>}\r\n              <p><strong>Horário:</strong> {new Date(results.timestamp).toLocaleString()}</p>\r\n            </div>\r\n            \r\n            <div style={styles.redirectMessage}>\r\n              <p>Redirecionando para a página inicial em <span style={styles.countdown}>{countdown}</span> segundos...</p>\r\n              <button \r\n                style={styles.redirectButton}\r\n                onClick={() => window.location.replace(window.location.origin)}\r\n              >\r\n                Ir para a página inicial agora\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  container: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    minHeight: '100vh',\r\n    backgroundColor: '#f8f9fa',\r\n    padding: '20px',\r\n    boxSizing: 'border-box'\r\n  },\r\n  card: {\r\n    backgroundColor: '#fff',\r\n    borderRadius: '8px',\r\n    boxShadow: '0 4px 15px rgba(0, 0, 0, 0.1)',\r\n    padding: '30px',\r\n    maxWidth: '600px',\r\n    width: '100%'\r\n  },\r\n  title: {\r\n    textAlign: 'center',\r\n    color: '#d32f2f',\r\n    marginBottom: '20px',\r\n    fontSize: '28px'\r\n  },\r\n  warning: {\r\n    backgroundColor: '#ffebee',\r\n    border: '1px solid #ffcdd2',\r\n    borderRadius: '4px',\r\n    padding: '15px',\r\n    color: '#c62828',\r\n    marginBottom: '25px',\r\n    fontSize: '16px',\r\n    lineHeight: '1.5'\r\n  },\r\n  description: {\r\n    fontSize: '16px',\r\n    lineHeight: '1.6',\r\n    color: '#333',\r\n    marginBottom: '25px'\r\n  },\r\n  actionSection: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center'\r\n  },\r\n  resetButton: {\r\n    backgroundColor: '#d32f2f',\r\n    color: 'white',\r\n    border: 'none',\r\n    padding: '12px 24px',\r\n    borderRadius: '4px',\r\n    fontSize: '16px',\r\n    fontWeight: 'bold',\r\n    cursor: 'pointer',\r\n    transition: 'background-color 0.3s',\r\n    marginBottom: '20px'\r\n  },\r\n  note: {\r\n    backgroundColor: '#fff8e1',\r\n    border: '1px solid #ffe082',\r\n    borderRadius: '4px',\r\n    padding: '12px',\r\n    fontSize: '14px',\r\n    color: '#ff8f00',\r\n    marginTop: '15px',\r\n    width: '100%',\r\n    boxSizing: 'border-box'\r\n  },\r\n  completedSection: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center'\r\n  },\r\n  successMessage: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    marginBottom: '20px'\r\n  },\r\n  checkmark: {\r\n    width: '60px',\r\n    height: '60px',\r\n    borderRadius: '50%',\r\n    background: '#4caf50',\r\n    color: 'white',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    fontSize: '30px',\r\n    marginBottom: '15px'\r\n  },\r\n  results: {\r\n    backgroundColor: '#e8f5e9',\r\n    border: '1px solid #c8e6c9',\r\n    borderRadius: '4px',\r\n    padding: '15px',\r\n    marginBottom: '25px',\r\n    width: '100%',\r\n    boxSizing: 'border-box'\r\n  },\r\n  error: {\r\n    color: '#d32f2f'\r\n  },\r\n  redirectMessage: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    marginTop: '10px'\r\n  },\r\n  countdown: {\r\n    fontWeight: 'bold',\r\n    fontSize: '18px',\r\n    color: '#d32f2f'\r\n  },\r\n  redirectButton: {\r\n    backgroundColor: '#2196f3',\r\n    color: 'white',\r\n    border: 'none',\r\n    padding: '10px 20px',\r\n    borderRadius: '4px',\r\n    fontSize: '14px',\r\n    cursor: 'pointer',\r\n    marginTop: '15px',\r\n    transition: 'background-color 0.3s'\r\n  }\r\n};\r\n\r\nexport default EmergencyReset; "],"names":["styles","container","display","justifyContent","alignItems","minHeight","backgroundColor","padding","boxSizing","card","borderRadius","boxShadow","maxWidth","width","title","textAlign","color","marginBottom","fontSize","warning","border","lineHeight","description","actionSection","flexDirection","resetButton","fontWeight","cursor","transition","note","marginTop","completedSection","successMessage","checkmark","height","background","results","error","redirectMessage","countdown","redirectButton","EmergencyReset","setResults","useState","resetComplete","setResetComplete","setCountdown","useEffect","timer","setTimeout","window","location","replace","origin","clearTimeout","handleBeforeUnload","e","preventDefault","returnValue","addEventListener","removeEventListener","_jsx","style","children","_jsxs","cookiesCleared","localStorageCleared","sessionStorageCleared","Date","timestamp","toLocaleString","onClick","performEmergencyReset","clearAllCookies","cookies","document","cookie","split","i","length","eqPos","indexOf","name","substr","trim","domain","hostname","storageCleared","clearAllStorage","localStorageCount","localStorage","sessionStorageCount","sessionStorage","clear","console","message","toISOString","setItem"],"sourceRoot":""}