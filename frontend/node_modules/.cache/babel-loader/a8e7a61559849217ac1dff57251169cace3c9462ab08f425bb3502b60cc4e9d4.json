{"ast":null,"code":"/**\n * @import {State} from 'mdast-util-to-markdown'\n * @import {FlowChildren, FlowParents, TrackFields} from '../types.js'\n */\n\n/**\n * @param {FlowParents} parent\n *   Parent of flow nodes.\n * @param {State} state\n *   Info passed around about the current state.\n * @param {TrackFields} info\n *   Info on where we are in the document we are generating.\n * @returns {string}\n *   Serialized children, joined by (blank) lines.\n */\nexport function containerFlow(parent, state, info) {\n  const indexStack = state.indexStack;\n  const children = parent.children || [];\n  const tracker = state.createTracker(info);\n  /** @type {Array<string>} */\n  const results = [];\n  let index = -1;\n  indexStack.push(-1);\n  while (++index < children.length) {\n    const child = children[index];\n    indexStack[indexStack.length - 1] = index;\n    results.push(tracker.move(state.handle(child, parent, state, {\n      before: '\\n',\n      after: '\\n',\n      ...tracker.current()\n    })));\n    if (child.type !== 'list') {\n      state.bulletLastUsed = undefined;\n    }\n    if (index < children.length - 1) {\n      results.push(tracker.move(between(child, children[index + 1], parent, state)));\n    }\n  }\n  indexStack.pop();\n  return results.join('');\n}\n\n/**\n * @param {FlowChildren} left\n * @param {FlowChildren} right\n * @param {FlowParents} parent\n * @param {State} state\n * @returns {string}\n */\nfunction between(left, right, parent, state) {\n  let index = state.join.length;\n  while (index--) {\n    const result = state.join[index](left, right, parent, state);\n    if (result === true || result === 1) {\n      break;\n    }\n    if (typeof result === 'number') {\n      return '\\n'.repeat(1 + result);\n    }\n    if (result === false) {\n      return '\\n\\n<!---->\\n\\n';\n    }\n  }\n  return '\\n\\n';\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}