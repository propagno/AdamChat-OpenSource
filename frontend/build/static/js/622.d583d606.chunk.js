"use strict";(self.webpackChunkadamchat_frontend=self.webpackChunkadamchat_frontend||[]).push([[622],{3622:(e,s,t)=>{t.r(s),t.d(s,{default:()=>m});var a=t(5043),o=t(5338),r=t(3519),n=t(8258),i=t(4282),c=t(4671),l=t(4063),d=t(3920),u=t(579);const m=()=>{const{user:e,isAuthenticated:s,error:t}=(0,o.As)(),[m,g]=(0,a.useState)({localStorage:null,sessionStorage:null,cookies:null,network:null,authState:null}),[h,x]=(0,a.useState)(!1);(0,a.useEffect)((()=>{j()}),[]);const j=()=>{const a=p(),o=v(),r=f(),n=S(),i={status:s?"success":"error",message:s?`Autenticado como ${(null===e||void 0===e?void 0:e.username)||"usu\xe1rio desconhecido"}`:"N\xe3o autenticado",details:{isAuthenticated:s,user:e,error:t}};g({localStorage:a,sessionStorage:o,cookies:r,network:n,authState:i})},p=()=>{try{localStorage.setItem("test-item","test-value");const e=localStorage.getItem("test-item");return localStorage.removeItem("test-item"),{status:"test-value"===e?"success":"error",message:"test-value"===e?"localStorage est\xe1 funcionando corretamente":"localStorage n\xe3o est\xe1 funcionando como esperado",details:{available:!!window.localStorage,items:Object.keys(localStorage).length}}}catch(t){return{status:"error",message:"Erro ao acessar localStorage",details:{error:t.message}}}},v=()=>{try{sessionStorage.setItem("test-item","test-value");const e=sessionStorage.getItem("test-item");return sessionStorage.removeItem("test-item"),{status:"test-value"===e?"success":"error",message:"test-value"===e?"sessionStorage est\xe1 funcionando corretamente":"sessionStorage n\xe3o est\xe1 funcionando como esperado",details:{available:!!window.sessionStorage,items:Object.keys(sessionStorage).length}}}catch(t){return{status:"error",message:"Erro ao acessar sessionStorage",details:{error:t.message}}}},f=()=>{try{document.cookie="test-cookie=test-value; path=/";const e=document.cookie.includes("test-cookie=test-value");return document.cookie="test-cookie=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",{status:e?"success":"error",message:e?"Cookies est\xe3o funcionando corretamente":"Cookies n\xe3o est\xe3o funcionando como esperado",details:{enabled:navigator.cookieEnabled,count:document.cookie.split(";").filter((e=>e.trim())).length}}}catch(t){return{status:"error",message:"Erro ao acessar cookies",details:{error:t.message}}}},S=()=>({status:navigator.onLine?"success":"warning",message:navigator.onLine?"Conex\xe3o de rede dispon\xedvel":"Dispositivo est\xe1 offline",details:{online:navigator.onLine,userAgent:navigator.userAgent}}),k=e=>{switch(e){case"success":return"success";case"warning":return"warning";case"error":return"danger";default:return"secondary"}};return(0,u.jsxs)(r.A,{className:"py-4",children:[(0,u.jsx)("h1",{className:"mb-4",children:"Diagn\xf3stico de Autentica\xe7\xe3o"}),(0,u.jsxs)(n.A,{className:"mb-4",children:[(0,u.jsx)(n.A.Header,{children:(0,u.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,u.jsx)("h2",{className:"m-0",children:"Resultados do Diagn\xf3stico"}),(0,u.jsx)(i.A,{variant:"primary",size:"sm",onClick:j,children:"Executar Novamente"})]})}),(0,u.jsxs)(n.A.Body,{children:[(0,u.jsx)(c.A,{className:"mb-3",children:Object.entries(m).map((e=>{let[s,t]=e;return t&&(0,u.jsxs)(c.A.Item,{className:"d-flex justify-content-between align-items-center",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("strong",{children:s.charAt(0).toUpperCase()+s.slice(1)}),(0,u.jsx)("p",{className:"mb-0 text-muted",children:t.message})]}),(0,u.jsx)(l.A,{bg:k(t.status),children:"success"===t.status?"OK":"warning"===t.status?"Aten\xe7\xe3o":"Erro"})]},s)}))}),(0,u.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,u.jsx)(i.A,{variant:"outline-primary",onClick:()=>x(!h),children:h?"Ocultar Detalhes":"Mostrar Detalhes"}),(0,u.jsx)(i.A,{variant:"danger",onClick:()=>{window.confirm("Tem certeza que deseja limpar todo o armazenamento? Isso far\xe1 logout de sua conta.")&&(()=>{try{localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach((e=>{const[s]=e.trim().split("=");s&&(document.cookie=`${s}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/`)})),alert("Armazenamento limpo com sucesso. A p\xe1gina ser\xe1 recarregada."),window.location.reload()}catch(t){alert(`Erro ao limpar armazenamento: ${t.message}`)}})()},children:"Limpar Todo Armazenamento"})]}),h&&(0,u.jsxs)("div",{className:"mt-4",children:[(0,u.jsx)("h3",{children:"Detalhes T\xe9cnicos"}),(0,u.jsx)("pre",{className:"bg-light p-3 rounded",children:JSON.stringify(Object.entries(m).reduce(((e,s)=>{let[t,a]=s;return e[t]=(null===a||void 0===a?void 0:a.details)||{},e}),{}),null,2)})]})]})]}),(0,u.jsxs)(d.A,{variant:"info",children:[(0,u.jsx)(d.A.Heading,{children:"Problemas com Autentica\xe7\xe3o?"}),(0,u.jsx)("p",{children:"Se voc\xea est\xe1 enfrentando problemas para fazer login, tente as seguintes solu\xe7\xf5es:"}),(0,u.jsxs)("ol",{children:[(0,u.jsx)("li",{children:"Limpe o armazenamento do navegador usando o bot\xe3o acima"}),(0,u.jsx)("li",{children:"Verifique sua conex\xe3o com a internet"}),(0,u.jsx)("li",{children:"Certifique-se de que cookies est\xe3o habilitados no seu navegador"}),(0,u.jsx)("li",{children:"Tente usar outro navegador"}),(0,u.jsx)("li",{children:"Entre em contato com o suporte se o problema persistir"})]})]})]})}}}]);
//# sourceMappingURL=622.d583d606.chunk.js.map